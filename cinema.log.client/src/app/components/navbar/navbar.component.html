<div class="nav-wrapper">
  <nav class="navbar">
    <div class="nav-content">
      <a
        class="logo"
        routerLink="home"
        routerLinkActive="active"
        ariaCurrentWhenActive="page"
        >_cinema.log()
      </a>
      <div class="nav-links">
        <a
          routerLink="search"
          routerLinkActive="active"
          ariaCurrentWhenActive="page"
          >Search
        </a>
        @if (auth.currentUser()) {
          <a
            [routerLink]="['/profile', auth.currentUser()?.id]"
            routerLinkActive="active"
            ariaCurrentWhenActive="page"
            (click)="toggleProfileMenu($event); $event.preventDefault()"
            class="profile-link"
            >{{ auth.currentUser()?.name }}
          </a>
        } @else {
          <a
            class="sign-in"
            routerLink="login"
            routerLinkActive="active"
            ariaCurrentWhenActive="page"
            >Sign in
          </a>
        }
      </div>
    </div>
  </nav>
</div>

<!-- Profile menu - shared between desktop and mobile -->
@if (auth.currentUser()) {
  <p-menu #profileMenu [model]="menuItems" [popup]="true" />
}

<div class="nav-icons">
  <div class="icon">
    <a routerLink="search" ariaCurrentWhenActive="page">
      <lord-icon
        routerLinkActive="active"
        src="https://cdn.lordicon.com/xaekjsls.json"
        trigger="click"
        stroke="bold"
        style="width: 30px; height: 30px"
      >
      </lord-icon>
      <p>Search</p>
    </a>
  </div>
  <div class="icon">
    <a routerLink="home" ariaCurrentWhenActive="page">
      <lord-icon
        routerLinkActive="active"
        src="https://cdn.lordicon.com/jeuxydnh.json"
        trigger="click"
        stroke="bold"
        state="hover-wink"
        style="width: 30px; height: 30px"
      >
      </lord-icon>
      <p>Home</p>
    </a>
  </div>
  @if (auth.currentUser()) {
    <div class="icon">
      <a
        [routerLink]="['/profile', auth.currentUser()!.id]"
        ariaCurrentWhenActive="page"
        (click)="toggleProfileMenu($event); $event.preventDefault()"
      >
        <lord-icon
          routerLinkActive="active"
          src="https://cdn.lordicon.com/bushiqea.json"
          trigger="click"
          stroke="bold"
          style="width: 30px; height: 30px"
        >
        </lord-icon>
        <p>Profile</p>
      </a>
    </div>
  } @else {
    <div class="icon">
      <a routerLink="login" ariaCurrentWhenActive="page">
        <lord-icon
          routerLinkActive="active"
          src="https://cdn.lordicon.com/bushiqea.json"
          trigger="click"
          stroke="bold"
          style="width: 30px; height: 30px"
        >
        </lord-icon>
        <p>Login</p>
      </a>
    </div>
  }
</div>
